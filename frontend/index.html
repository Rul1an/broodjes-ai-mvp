<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Broodjes AI App</title>
    <link rel="stylesheet" href="style.css">
    <!-- Add Marked.js library -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Basic styling for generated recipe content -->
    <style>
        /* Gemeenschappelijke stijlen voor alle markdown-weergave elementen */
        #recept-output h1,
        #recept-output h2,
        #recept-output h3,
        #recept-output h4,
        .original-recipe-content h1,
        .original-recipe-content h2,
        .original-recipe-content h3,
        .original-recipe-content h4,
        .refined-recipe-output h1,
        .refined-recipe-output h2,
        .refined-recipe-output h3,
        .refined-recipe-output h4 {
            margin-top: 1em;
            margin-bottom: 0.5em;
        }

        #recept-output ul,
        #recept-output ol,
        .original-recipe-content ul,
        .original-recipe-content ol,
        .refined-recipe-output ul,
        .refined-recipe-output ol {
            margin-left: 20px;
            margin-bottom: 1em;
        }

        #recept-output li,
        .original-recipe-content li,
        .refined-recipe-output li {
            margin-bottom: 0.3em;
        }

        #recept-output strong,
        .original-recipe-content strong,
        .refined-recipe-output strong {
            font-weight: bold;
        }

        #recept-output p,
        .original-recipe-content p,
        .refined-recipe-output p {
            margin-bottom: 0.8em;
            line-height: 1.6;
        }

        /* Specifieke stijlen voor recepten in de lijst */
        .original-recipe-content,
        .refined-recipe-output {
            background-color: #fff;
            padding: 10px;
            border-radius: 4px;
            max-width: 100%;
            overflow-wrap: break-word;
        }

        .refined-recipe-output {
            background-color: #f0f8ff;
            /* Lichtblauwe achtergrond voor verfijnde recepten */
            border-left: 2px solid #007bff;
        }
    </style>
</head>

<body>
    <h1>Broodjes AI App</h1>

    <nav class="view-navigation">
        <button data-view="view-generate" class="nav-button active">Nieuw Recept</button>
        <button data-view="view-recipes" class="nav-button">Opgeslagen Recepten</button>
        <button data-view="view-ingredients" class="nav-button">Ingrediënten Beheer</button>
    </nav>

    <main>
        <!-- View 1: Generate Recipe -->
        <div id="view-generate" class="view active-view">
            <h2>Nieuw Recept Genereren</h2>
            <div class="input-area">
                <label for="broodje-idee">Voer je broodjesidee in:</label>
                <input type="text" id="broodje-idee" placeholder="bv. Broodje pittige kip met avocado">

                <label for="model-select" style="margin-left: 10px;">Kies Model:</label>
                <select id="model-select">
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    <option value="gpt-4o">GPT-4o</option>
                </select>

                <button id="generate-btn">Genereer Recept</button>
            </div>
            <div id="resultaat-area">
                <h3>Gegenereerd Recept:</h3>
                <div id="loading" style="display: none;">
                    <div class="loading-spinner"></div>
                </div>
                <div id="recept-output"></div>
                <p id="estimated-cost-output" style="font-weight: bold; margin-top: 10px;"></p>
            </div>
        </div>

        <!-- View 2: Saved Recipes -->
        <div id="view-recipes" class="view">
            <h2>Opgeslagen Recepten</h2>
            <div id="loading-list" style="display: none;">
                <div class="loading-spinner"></div>
            </div>
            <ul id="recepten-lijst">
                <!-- Recepten worden hier dynamisch ingeladen -->
            </ul>
            <button id="clear-recipes-btn" style="margin-top: 20px; background-color: #dc3545;">Alle Recepten
                Verwijderen</button>
        </div>

        <!-- View 3: Ingredient Management -->
        <div id="view-ingredients" class="view">
            <h2>Ingrediënten Beheer (Prijzen invoeren)</h2>
            <div id="add-ingredient-form">
                <h3>Nieuw Ingrediënt Toevoegen</h3>
                <input type="text" id="ingredient-name" placeholder="Naam (bv. Gerookte Kip)" required>
                <input type="text" id="ingredient-unit" placeholder="Eenheid (bv. kg)" required>
                <input type="number" id="ingredient-price" placeholder="Prijs per eenheid (bv. 15.50)" step="0.01"
                    required>
                <button id="add-ingredient-btn">Toevoegen</button>
                <p id="ingredient-feedback" style="color: green; display: none;"></p>
            </div>
            <h3>Bestaande Ingrediënten</h3>
            <div id="loading-ingredients" style="display: none;">
                <div class="loading-spinner"></div>
            </div>
            <table id="ingredienten-tabel">
                <thead>
                    <tr>
                        <th>Naam</th>
                        <th>Eenheid</th>
                        <th>Prijs per Eenheid (€)</th>
                        <th>Acties</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Ingrediënten worden hier dynamisch ingeladen -->
                </tbody>
            </table>
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Broodjes AI</p>
    </footer>

    <script type="module" src="js/main.js"></script>

    <!-- Confirmation Modal Structure -->
    <div id="confirmation-modal" class="modal">
        <div class="modal-content">
            <p id="modal-message">Are you sure?</p>
            <div class="modal-buttons">
                <button id="modal-confirm-button" class="button">Confirm</button>
                <button id="modal-cancel-button" class="button secondary">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Image Display Modal Structure -->
    <div id="image-modal" class="modal">
        <div class="modal-content image-modal-content">
            <span class="close-image-modal">&times;</span>
            <img id="modal-image" src="" alt="Gegenereerd Broodje Beeld" style="max-width: 100%; max-height: 80vh;">
            <p id="image-modal-caption" style="margin-top: 10px; font-style: italic;"></p>
        </div>
    </div>

</body>

</html>
